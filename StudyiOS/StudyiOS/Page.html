<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1187.34">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo; color: #008400}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo; color: #703daa}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo; min-height: 19.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo; color: #3d1d81}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Heiti SC Light'; color: #008400}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Menlo; color: #4f8187}
    span.s1 {font: 16.0px 'Heiti SC Light'}
    span.s2 {color: #bb2ca2}
    span.s3 {color: #000000}
    span.s4 {color: #703daa}
    span.s5 {color: #4f8187}
    span.s6 {font: 16.0px Menlo}
    span.s7 {color: #31595d}
    span.s8 {color: #272ad8}
    span.s9 {color: #3d1d81}
  </style>
</head>
<body>
<p class="p1">// UIPageViewController<span class="s1">容器</span></p>
<p class="p2"><span class="s2">@interface</span><span class="s3"> PageViewController : </span>UIViewController<span class="s3"> &lt;</span>UIPageViewControllerDelegate<span class="s3">&gt;</span></p>
<p class="p3"><span class="s2">@property</span> (<span class="s2">strong</span>, <span class="s2">nonatomic</span>) <span class="s4">UIPageViewController</span> *pageViewController;</p>
<p class="p4"><br></p>
<p class="p1">// <span class="s1">初始化</span>PageViewController,<span class="s1">并设置翻页风格</span></p>
<p class="p5"><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3"> = [[</span><span class="s4">UIPageViewController</span><span class="s3"> </span>alloc<span class="s3">] </span>initWithTransitionStyle<span class="s3">:</span>UIPageViewControllerTransitionStylePageCurl<span class="s3"> </span>navigationOrientation<span class="s3">:</span>UIPageViewControllerNavigationOrientationHorizontal<span class="s3"> </span>options<span class="s3">:</span><span class="s2">nil</span><span class="s3">];</span></p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p6"><span class="s6">// </span>设置代理</p>
<p class="p7"><span class="s2">self</span><span class="s3">.</span>pageViewController<span class="s3">.</span><span class="s4">delegate</span><span class="s3"> = </span><span class="s2">self</span><span class="s3">;</span></p>
<p class="p1"><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3">.</span><span class="s4">dataSource</span><span class="s3"> = </span><span class="s2">self</span><span class="s3">.</span><span class="s5">modelController</span><span class="s3">; </span>// modelController<span class="s1">为</span>pageViewController<span class="s1">提供数据源</span></p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p1">// <span class="s1">初始化首个</span>Controller</p>
<p class="p3"><span class="s5">DataViewController</span> *startingViewController = [<span class="s2">self</span>.<span class="s5">modelController</span> <span class="s7">viewControllerAtIndex</span>:<span class="s8">0</span> <span class="s7">storyboard</span>:<span class="s2">self</span>.<span class="s4">storyboard</span>];</p>
<p class="p5"><span class="s3">[</span><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3"> </span>setViewControllers<span class="s3">:</span><span class="s8">@[</span><span class="s3">startingViewController</span><span class="s8">]</span><span class="s3"> </span>direction<span class="s3">:</span>UIPageViewControllerNavigationDirectionForward<span class="s3"> </span>animated<span class="s3">:</span><span class="s2">NO</span><span class="s3"> </span>completion<span class="s3">:</span><span class="s2">NULL</span><span class="s3">];</span></p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p1">// <span class="s1">设置子</span>Controller</p>
<p class="p5"><span class="s3">[</span><span class="s2">self</span><span class="s3"> </span>addChildViewController<span class="s3">:</span><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3">];</span></p>
<p class="p7"><span class="s3">[</span><span class="s2">self</span><span class="s3">.</span><span class="s4">view</span><span class="s3"> </span><span class="s9">addSubview</span><span class="s3">:</span><span class="s2">self</span><span class="s3">.</span>pageViewController<span class="s3">.</span><span class="s4">view</span><span class="s3">];</span></p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p6"><span class="s6">// </span>设置页面大小</p>
<p class="p3"><span class="s4">CGRect</span> pageViewRect = <span class="s2">self</span>.<span class="s4">view</span>.<span class="s4">bounds</span>;</p>
<p class="p3"><span class="s2">self</span>.<span class="s5">pageViewController</span>.<span class="s4">view</span>.<span class="s4">frame</span> = pageViewRect;</p>
<p class="p5"><span class="s3">[</span><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3"> </span>didMoveToParentViewController<span class="s3">:</span><span class="s2">self</span><span class="s3">];</span></p>
<p class="p4"><span class="Apple-converted-space">    </span></p>
<p class="p6"><span class="s6">// </span>添加手势</p>
<p class="p2"><span class="s2">self</span><span class="s3">.</span>view<span class="s3">.</span>gestureRecognizers<span class="s3"> = </span><span class="s2">self</span><span class="s3">.</span><span class="s5">pageViewController</span><span class="s3">.</span>gestureRecognizers<span class="s3">;</span></p>
<p class="p4"><br></p>
<p class="p6"><span class="s6">// </span>返回翻页方式</p>
<p class="p3">- (<span class="s4">UIPageViewControllerSpineLocation</span>)pageViewController:(<span class="s4">UIPageViewController</span> *)pageViewController spineLocationForInterfaceOrientation:(<span class="s4">UIInterfaceOrientation</span>)orientation</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p6"><span class="s6">// </span>为PageView<span class="s6">Controller</span>提供数据源</p>
<p class="p2"><span class="s2">@interface</span><span class="s3"> ModelController : </span>NSObject<span class="s3"> &lt;</span>UIPageViewControllerDataSource<span class="s3">&gt;</span></p>
<p class="p4"><br></p>
<p class="p1">// <span class="s1">翻页时触发</span>,<span class="s1">返回下一个</span>Controller</p>
<p class="p3">- (<span class="s4">UIViewController</span> *)pageViewController:(<span class="s4">UIPageViewController</span> *)pageViewController viewControllerBeforeViewController:(<span class="s4">UIViewController</span> *)viewController</p>
<p class="p4"><br></p>
<p class="p3">- (<span class="s4">UIViewController</span> *)pageViewController:(<span class="s4">UIPageViewController</span> *)pageViewController viewControllerAfterViewController:(<span class="s4">UIViewController</span> *)viewController</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
</body>
</html>
